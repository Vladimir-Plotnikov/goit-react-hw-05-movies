"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[806],{211:function(e,n,t){t.d(n,{P:function(){return c}});var r=t(184),c=function(e){var n=e.message;return(0,r.jsx)("p",{children:n})}},806:function(e,n,t){t.r(n),t.d(n,{default:function(){return d}});var r,c=t(439),a=t(791),i=t(689),o=t(243),s=t(211),u=t(870),p=t(168),f=t(444).ZP.blockquote(r||(r=(0,p.Z)(["\n  position: relative;\n  font-size: 16px;\n  font-style: italic;\n  letter-spacing: 1px;\n  line-height: 1.2;\n  text-align: center;\n  p {\n    margin-top: 16px;\n  }\n  svg {\n    margin-right: 16px;\n  }\n  cite {\n    font-style: normal;\n  }\n"]))),h=t(184),l={IDLE:"idle",PENDING:"pending",REJECTED:"rejected",RESOLVED:"resolved"},d=function(){var e=(0,i.UO)().movieId,n=(0,a.useState)(null),t=(0,c.Z)(n,2),r=t[0],p=t[1],d=(0,a.useState)(null),v=(0,c.Z)(d,2),x=v[0],m=v[1],w=(0,a.useState)(l.IDLE),k=(0,c.Z)(w,2),y=k[0],E=k[1];return(0,a.useEffect)((function(){E(l.PENDING),(0,o.sR)(e).then((function(e){var n=e.results;if(!n.length)return m("We dont have any reveiws on this movie"),void E(l.REJECTED);p(n),E(l.RESOLVED)})).catch((function(e){m(e),E(l.error)}))}),[e]),(0,h.jsxs)(h.Fragment,{children:[y===l.PENDING&&(0,h.jsx)("div",{children:(0,h.jsx)(u.ne,{height:"300",width:"300",color:"#ec9706",ariaLabel:"hearts-loading",wrapperStyle:{},wrapperClass:"",visible:!0})}),y===l.REJECTED&&(0,h.jsx)(s.P,{message:x}),y===l.RESOLVED&&(0,h.jsx)("ul",{children:r.map((function(e){var n=e.id,t=e.author,r=e.content,c=e.url;return(0,h.jsx)("li",{children:(0,h.jsxs)(f,{cite:c,children:[(0,h.jsxs)("cite",{children:["Author:",t]}),(0,h.jsx)("p",{children:r})]})},n)}))})]})}},243:function(e,n,t){t.d(n,{Cx:function(){return h},Df:function(){return s},Pg:function(){return p},Ph:function(){return x},sR:function(){return d}});var r=t(861),c=t(757),a=t.n(c),i="https://api.themoviedb.org/3",o="ade6c0d166c517e1fe622025fc12c476";function s(){return u.apply(this,arguments)}function u(){return(u=(0,r.Z)(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/trending/movie/day?api_key=").concat(o));case 2:if(!(n=e.sent).ok){e.next=7;break}return e.next=6,n.json();case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,Promise.reject(new Error("Oops, something went wrong... We can't load trending movies :("));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/movie/").concat(n,"?api_key=").concat(o));case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,Promise.reject(new Error("We are sorry, but we did not find any information about this movie"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(e){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/movie/").concat(n,"/credits?api_key=").concat(o));case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,Promise.reject(new Error("We are sorry, but we did not fint any information about this movie by cast"));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/movie/").concat(n,"/reviews?api_key=").concat(o));case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:return e.abrupt("return",e.sent);case 7:return e.abrupt("return",Promise.reject(new Error("We dont have any reviews for this movie")));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function x(e){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(i,"/search/movie?api_key=").concat(o,"&query=").concat(n));case 2:if(!(t=e.sent).ok){e.next=7;break}return e.next=6,t.json();case 6:case 9:return e.abrupt("return",e.sent);case 7:return e.next=9,Promise.reject(new Error("No results containing ".concat(n," were found")));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}}]);
//# sourceMappingURL=806.4567bb6d.chunk.js.map